(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["HomePage.route"],{"071b":function(t,e,o){},"07db":function(t,e,o){"use strict";var n=o("b0dc2"),i=o.n(n);i.a},2079:function(t,e,o){"use strict";var n=o("30a8"),i=o.n(n);i.a},"21e2":function(t,e,o){t.exports=o.p+"img/arrow.b79d89a1.svg"},"2fb9":function(t,e,o){"use strict";var n=o("3e2f"),i=o.n(n);i.a},"30a8":function(t,e,o){},"3e2f":function(t,e,o){},"4b03":function(t,e,o){"use strict";var n=o("7bc8"),i=o.n(n);i.a},5880:function(t,e,o){},"6d67":function(t,e,o){"use strict";var n=o("5ca1"),i=o("0a49")(1);n(n.P+n.F*!o("2f21")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},"71e8":function(t,e,o){"use strict";var n=o("5880"),i=o.n(n);i.a},"79d1":function(t,e,o){},"7bc8":function(t,e,o){},8675:function(t,e,o){"use strict";var n=o("79d1"),i=o.n(n);i.a},a2ab:function(t,e,o){t.exports=o.p+"img/exit.33c24b9d.svg"},b0dc2:function(t,e,o){},b8c0:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"locale-changer"},[o("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onExpandHide,expression:"onExpandHide"}],staticClass:"lang",class:[{expanded:t.expand}],on:{click:t.onExpand}},[o("span",{staticClass:"lang__title"},[t._v(t._s(t.langTitle))]),o("ul",{staticClass:"lang__dropdown"},t._l(t.langs,(function(e,n){return o("li",{key:"Lang"+n,on:{click:function(o){return t.onChangeLang(e)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),0)])])},i=[],s={name:"LanguageSelect",directives:{"click-outside":{bind:function(t,e){t.addEventListener("click",(function(t){return t.stopPropagation()})),document.body.addEventListener("click",e.value)},unbind:function(t,e){document.body.removeEventListener("click",e.value)}}},data:function(){return{langs:[{val:"en",title:"English"},{val:"ru",title:"Русский"}],expand:!1}},computed:{langTitle:function(){return this.$store.getters.langTitle}},methods:{onChangeLang:function(t){this.$store.dispatch("setLang",t)},onExpand:function(){this.expand=!this.expand},onExpandHide:function(){this.expand=!1}}},a=s,c=(o("2fb9"),o("2877")),l=Object(c["a"])(a,n,i,!1,null,null,null);e["a"]=l.exports},e146:function(t,e,o){"use strict";var n=o("071b"),i=o.n(n);i.a},f4a9:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrapper"},[n("header",{staticClass:"header-app"},[n("div",{staticClass:"logout"},[t._v("\n      "+t._s(t.email)+"\n      "),n("button",{staticClass:"exit",attrs:{title:"Log out"},on:{click:t.onLogOut}},[n("img",{attrs:{src:o("a2ab"),alt:""}})])]),n("language-select"),n("h1",{staticClass:"title"},[t._v(t._s(t.$t("title")))])],1),n("main",{staticClass:"app-inner"},[n("todo-list")],1)])},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo-wrapper"},[n("todo-list-new"),t.isError?n("p",{staticClass:"error-title"},[t._v(t._s(t.isError))]):t.todos.length||t.loadingApp?n("section",{staticClass:"main"},[t.loadingApp?n("app-spinner",{attrs:{primary:"primary"}}):n("todo-list-items",{attrs:{todos:t.todos}})],1):n("div",{staticClass:"empty-state"},[n("p",[t._v("\n      "+t._s(t.$t("todo-list.empty"))+"\n    ")]),n("img",{attrs:{src:o("21e2"),alt:""}})]),n("footer",{directives:[{name:"show",rawName:"v-show",value:t.todos.length&&!t.loadingApp,expression:"todos.length && !loadingApp"}],staticClass:"footer"},[n("todo-list-nav",{attrs:{todos:t.todos}})],1)],1)},a=[],c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"todo-list"},[o("transition-group",{attrs:{name:"todo",mode:"out-in"}},t._l(t.filteredTodos,(function(e){return o("li",{key:e.id,staticClass:"todo",class:{editing:e==t.editedTodo}},[o("todo-list-items-item",{attrs:{todo:e}}),o("todo-list-items-edit",{attrs:{todo:e}})],1)})),0)],1)},l=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo__view"},[o("div",{staticClass:"checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],staticClass:"toggle",attrs:{type:"checkbox",id:t.todo.id},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{change:[function(e){var o=t.todo.completed,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=null,a=t._i(o,s);n.checked?a<0&&t.$set(t.todo,"completed",o.concat([s])):a>-1&&t.$set(t.todo,"completed",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(t.todo,"completed",i)},t.onToggleComplete]}}),o("label",{staticClass:"label",class:{"color-primary":t.todo.completed},attrs:{for:t.todo.id}})]),o("label",{staticClass:"title",class:t.todo.completed?"completed":"color-primary",on:{dblclick:function(e){return t.editTodo(t.todo)}}},[t._v(t._s(t.todo.title))]),o("button",{staticClass:"destroy",attrs:{title:t.$t("todo.remove-title")},on:{click:function(e){return t.removeTodo(t.todo.id)}}})])},d=[],u={name:"TodoListItemsItem",props:{todo:{type:Object,required:!0}},methods:{onToggleComplete:function(t){var e=t.target,o=e.checked,n=e.id;this.$store.dispatch("updateTodo",{title:this.todo.title,completed:o,id:n}).catch((function(){}))},editTodo:function(t){this.$store.dispatch("beforeEditTitle",t.title),this.$store.dispatch("editTodo",t)},removeTodo:function(t){this.$store.dispatch("removeTodo",t).catch((function(){}))}}},p=u,m=(o("07db"),o("2877")),f=Object(m["a"])(p,r,d,!1,null,null,null),v=f.exports,h=(o("d25f"),{all:function(t){return t},active:function(t){return t.filter((function(t){return!t.completed}))},completed:function(t){return t.filter((function(t){return t.completed}))}}),g=function(){return o.e("TodoListItemsEdit.component").then(o.bind(null,"516e"))},b={name:"TodoListItems",components:{TodoListItemsItem:v,TodoListItemsEdit:g},mixins:[h],props:{todos:{type:Array,required:!0}},computed:{filteredTodos:function(){return h[this.visibility](this.todos)},visibility:function(){return this.$store.getters.visibility},editedTodo:function(){return this.$store.getters.editedTodo}}},_=b,C=(o("8675"),Object(m["a"])(_,c,l,!1,null,null,null)),T=C.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"new-todo"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"}],staticClass:"new-todo__title",attrs:{autofocus:"",autocomplete:"off",placeholder:t.$t("todo-new.ph-new")},domProps:{value:t.newTodo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}}),o("button",{staticClass:"new-todo__btn",attrs:{title:t.$t("todo-new.add-title"),disabled:t.localLoading},on:{click:t.addTodo}},[t.localLoading?o("app-spinner"):o("span",[t._v("+")])],1)])},$=[],w=function(){return o.e("AppSpinner.component").then(o.bind(null,"2a42"))},x={name:"TodoListNew",components:{AppSpinner:w},data:function(){return{newTodo:""}},computed:{localLoading:function(){return this.$store.getters.localLoading}},methods:{addTodo:function(){this.newTodo&&(this.$store.dispatch("createTodo",{title:this.newTodo}).catch((function(){})),this.newTodo="")}}},k=x,L=(o("4b03"),Object(m["a"])(k,y,$,!1,null,null,null)),E=L.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"todo-nav"},[o("span",{staticClass:"todo-nav__count"},[o("strong",[t._v(t._s(t.remaining))]),t._v(" "+t._s(t.$tc("todo-nav.item",t.remaining))+"\n    "+t._s(t.$t("todo-nav.left"))+"\n  ")]),o("ul",{staticClass:"todo-nav-filters"},[o("li",[o("button",{staticClass:"todo-nav-filters__btn",class:{selected:"all"==t.visibility},on:{click:function(e){return t.onChangeVisibility("all")}}},[t._v("\n        "+t._s(t.$t("todo-nav.all"))+"\n      ")])]),o("li",[o("button",{staticClass:"todo-nav-filters__btn",class:{selected:"active"==t.visibility},on:{click:function(e){return t.onChangeVisibility("active")}}},[t._v("\n        "+t._s(t.$t("todo-nav.active"))+"\n      ")])]),o("li",[o("button",{staticClass:"todo-nav-filters__btn",class:{selected:"completed"==t.visibility},on:{click:function(e){return t.onChangeVisibility("completed")}}},[t._v("\n        "+t._s(t.$t("todo-nav.completed"))+"\n      ")])])]),o("button",{directives:[{name:"show",rawName:"v-show",value:t.todos.length>t.remaining,expression:"todos.length > remaining"}],staticClass:"todo-nav__clear-completed",on:{click:t.removeCompleted}},[t._v("\n    "+t._s(t.$t("todo-nav.clear"))+"\n  ")])])},O=[],N=(o("6d67"),{name:"TodoListNav",mixins:[h],props:{todos:{type:Array,required:!0}},computed:{remaining:function(){return h.active(this.todos).length},visibility:function(){return this.$store.getters.visibility}},methods:{removeCompleted:function(){var t=this;h.completed(this.todos).map((function(e){t.$store.dispatch("removeTodo",e.id).catch((function(){}))}))},onChangeVisibility:function(t){this.$store.dispatch("setVisibility",t)}}}),j=N,I=(o("2079"),Object(m["a"])(j,A,O,!1,null,null,null)),P=I.exports,S=function(){return o.e("AppSpinner.component").then(o.bind(null,"2a42"))},H={name:"TodoList",components:{TodoListItems:T,TodoListNew:E,TodoListNav:P,AppSpinner:S},computed:{todos:function(){return this.$store.getters.todos},isError:function(){return this.$store.getters.error}},created:function(){this.$store.dispatch("fetchTodos").catch((function(){}))}},V=H,q=(o("71e8"),Object(m["a"])(V,s,a,!1,null,null,null)),J=q.exports,F=o("b8c0"),U={name:"HomePage",components:{TodoList:J,LanguageSelect:F["a"]},computed:{email:function(){return this.$store.getters.email}},methods:{onLogOut:function(){this.$store.dispatch("logoutUser").catch((function(){})),this.$router.push("/login")}}},z=U,B=(o("e146"),Object(m["a"])(z,n,i,!1,null,null,null));e["default"]=B.exports}}]);